<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!--CSS読み込み-->
		<link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
		<link rel="stylesheet" th:href="@{/css/mypage/mypage.css}">
		<!--JS読み込み-->
		<script th:src="@{/webjars/jquery/jquery.min.js}" defer></script>
		<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}" defer></script>
		<title>マイページ</title>
	</head>
	<body>
		<div layout:fragment="content">
		<div class="header border-bottom">
			<h1 class="h2">マイページ</h1>
		</div>
		<h2>ユーザ情報</h2>
		<table th:object="${muser}">
			<tr>
				<th>名前</th>
				<td>
					<span th:text="*{name}"></span>

				</td>
			</tr>
			<tr>
				<th class="w-25">メールアドレス</th>
				<td>
					<span type="text" th:text="*{mailAddress}"></span>
				</td>
			</tr>
			<tr>
				<th class="w-25">保有ポイント</th>
				<td>
					<span type="text" th:text="*{point}"></span>
				</td>
			</tr>
		</table>
		<br>
		<h2>出品中の商品一覧</h2>
		<table class="table table-striped table-bordered tale-hover">
			<tr>
				<th class="w-25">商品名</th>
				<th>価格</th>
				<th>コメント</th>
			</tr>
			<tr th:each="item:${itemList}">
				<td>
					<span th:text="${item.itemName}"></span>
				</td>
				<td>
					<span th:text="${item.itemPrice}"></span>
					<span>ポイント</span>
				</td> 
				<td>
					<span th:text="${item.comment}"></span>
				</td>
			</tr>
		</table>
		<form th:action="@{/mypage/details}" method="post">
			<input type="hidden" th:field="${muser.userId}"/>
			<input type="submit" value="変更"/>
		</form>
					
		<form th:action="@{/item-list}" method="post">
			<input type="hidden" th:field="${muser.userId}"/>
			<input type="submit" value="商品一覧へ"/>
		</form>
		<form th:action="@{/sales/sales-form}" method="post">
			<input type="hidden" th:field="${muser.userId}"/>
			<input type="submit" value="出品する">
		</form>

		<!-- カート確認ボタンを追加 -->
		<form th:action="@{/cart/view}" method="post" class="mt-3">
			<input type="hidden" name="userId" th:value="${muser.userId}" />
			<input type="submit" class="btn btn-primary" value="カートを確認する" />
		</form>
		
		<form th:action="@{/deposit/deposit-form}" method="post" style="display: inline;">
			<input type="hidden" name="userId" th:value="${muser.userId}" />
			<input type="submit" class="btn btn-primary" value="ポイントを追加する" />
		</form>

		<form th:action="@{/notification}" method="post" class="mt-3">
			<input type="hidden" name="userId" th:value="${muser.userId}" />
			<input type="submit" class="btn btn-primary" value="通知を確認する" />
		</form>
				
		</div>
	</body>
</html>
